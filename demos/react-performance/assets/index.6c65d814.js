import{j as h,r,R as g,a as s,u as b,L as O,c as k,H as M}from"./vendor.498c63bd.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))u(c);new MutationObserver(c=>{for(const i of c)if(i.type==="childList")for(const d of i.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&u(d)}).observe(document,{childList:!0,subtree:!0});function l(c){const i={};return c.integrity&&(i.integrity=c.integrity),c.referrerpolicy&&(i.referrerPolicy=c.referrerpolicy),c.crossorigin==="use-credentials"?i.credentials="include":c.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function u(c){if(c.ep)return;c.ep=!0;const i=l(c);fetch(c.href,i)}})();const a={isAuthenticated:!1,signIn(t){a.isAuthenticated=!0,setTimeout(t,100)},signOut(t){a.isAuthenticated=!1,setTimeout(t,100)}},m=h.exports.Fragment,e=h.exports.jsx,o=h.exports.jsxs,$=r.exports.createContext(null);function w({children:t}){const[n,l]=r.exports.useState(null),i={user:n,signIn:(d,y)=>a.signIn(()=>{l(d),y()}),signOut:d=>a.signOut(()=>{l(null),d()})};return e($.Provider,{value:i,children:t})}function B(){const[t,n]=r.exports.useState(0);return console.count("Demo1"),o("div",{children:[e("h1",{children:"Demo1"}),e("p",{children:"normal"}),e("button",{type:"button",onClick:u=>{n(Math.random())},children:"Update"}),o("div",{children:["State is ",t]}),e(P,{})]})}function P(){return console.count("Demo1 SomeChild"),e("div",{children:"Demo1 SomeChild"})}function U(){return console.count("Demo2"),o("div",{children:[e("h1",{children:"Demo2 "}),e("p",{children:"Extract to a new component"}),e(L,{}),e(A,{})]})}function L(){const[t,n]=r.exports.useState(0);return console.count("Button"),o(m,{children:[e("button",{type:"button",onClick:u=>{n(Math.random())},children:"Update"}),o("div",{children:["State is ",t]})]})}function A(){return console.count("Demo2 SomeChild"),e("div",{children:"Demo2 SomeChild"})}function R(){return console.count("Demo3"),e(j,{children:e(I,{})})}function j(t){return console.count("Demo3Wrap"),o("div",{children:[e("h1",{children:"Demo3"}),e("p",{children:"use props.children"}),t.children,e(E,{})]})}function I(){const[t,n]=r.exports.useState(0);return console.count("Button"),o(m,{children:[e("button",{type:"button",onClick:u=>{n(Math.random())},children:"Update"}),o("div",{children:["State is ",t]})]})}function E(){return console.count("Demo3 SomeChild"),e("div",{children:"Demo3 SomeChild"})}function H(){return console.count("Demo4"),e(G,{children:e(N,{})})}function G(t){const[n,l]=r.exports.useState(0);return console.count("Button"),o("div",{children:[e("h1",{children:"Demo4"}),e("p",{children:"use props.children"}),e("button",{type:"button",onClick:c=>{l(Math.random())},children:"Update"}),o("div",{children:["State is ",n]}),t.children]})}function N(){return console.count("Demo4 SomeChild"),e("div",{children:"Demo4 SomeChild"})}const f=r.exports.createContext(0),C=r.exports.createContext(()=>{});function F(){const[t,n]=r.exports.useState(0);return console.count("Demo5"),e(f.Provider,{value:t,children:o(C.Provider,{value:n,children:[e("h1",{children:"Demo5 context"}),e("p",{children:"useContext"}),e(W,{})]})})}function W(){return console.count("Middle"),o("div",{children:[e(T,{}),e(q,{})]})}function T(){console.count("Button");const t=r.exports.useContext(C);return e("button",{onClick:()=>t(Math.random()),children:"Update"})}function q(){const t=r.exports.useContext(f);return console.count("Display"),o("div",{children:["Display ",t]})}const x=r.exports.createContext(0),D=r.exports.createContext(()=>{});function z(){const[t,n]=r.exports.useState(0);return console.count("Demo6"),e(x.Provider,{value:t,children:o(D.Provider,{value:n,children:[e("h1",{children:"Demo6 context"}),e("p",{children:"use memo"}),e(K,{})]})})}const K=r.exports.memo(()=>(console.count("Middle"),o("div",{children:[e(_,{}),e(J,{})]})));function _(){console.count("Button");const t=r.exports.useContext(D);return e("button",{onClick:()=>t(Math.random()),children:"Update"})}function J(){const t=r.exports.useContext(x);return console.count("Display"),o("div",{children:["Display ",t]})}const v=r.exports.createContext(0),S=r.exports.createContext(()=>{});function Q(){const[t,n]=r.exports.useState(0);return console.count("Demo7"),e(v.Provider,{value:t,children:o(S.Provider,{value:n,children:[e("h1",{children:"Demo7 context"}),e("p",{children:"use useMemo"}),e(V,{})]})})}function V(){return console.count("Middle"),r.exports.useMemo(()=>o("div",{children:[e(X,{}),e(Y,{})]}),[])}function X(){console.count("Button");const t=r.exports.useContext(S);return e("button",{onClick:()=>t(Math.random()),children:"Update"})}function Y(){const t=r.exports.useContext(v);return console.count("Display"),o("div",{children:["Display ",t]})}function Z(){return console.count("Demo8"),o("div",{children:[e("h1",{children:"Demo8"}),e("p",{children:"normal: Simulate time-consuming components"}),e(ee,{}),e(te,{})]})}function ee(){console.count("Button");const[t,n]=r.exports.useState(0);return o(m,{children:[e("button",{onClick:()=>n(Math.random()),children:"Update"}),o("div",{children:["Display ",t]})]})}function te(){console.time("OtherComponent");let t=performance.now();for(;performance.now()-t<100;);return console.timeEnd("OtherComponent"),e(ne,{})}function ne(){console.time("OtherComponentChild");let t=performance.now();for(;performance.now()-t<100;);return console.timeEnd("OtherComponentChild"),e(oe,{})}function oe(){console.time("OtherComponentGrandChild");let t=performance.now();for(;performance.now()-t<100;);return console.timeEnd("OtherComponentGrandChild"),e("p",{children:"OtherComponentGrandChild"})}const re=""+new URL("app.eb702a91.png",import.meta.url).href;function ce(){return o(w,{children:[e(le,{}),e(g,{children:o(s,{children:[e(s,{path:"/",element:e(ue,{})}),e(s,{path:"/demo1",element:e(B,{})}),e(s,{path:"/demo2",element:e(U,{})}),e(s,{path:"/demo3",element:e(R,{})}),e(s,{path:"/demo4",element:e(H,{})}),e(s,{path:"/demo5",element:e(F,{})}),e(s,{path:"/demo6",element:e(z,{})}),e(s,{path:"/demo7",element:e(Q,{})}),e(s,{path:"/demo8",element:e(Z,{})})]})})]})}function ie(t,n){return t===n?"is-current-link":""}const p={Home:"/",Demo1:"/demo1",Demo2:"/demo2",Demo3:"/demo3",Demo4:"/demo4",Demo5:"/demo5",Demo6:"/demo6",Demo7:"/demo7",Demo8:"/demo8"},se=Object.keys(p).map(t=>({name:t,path:p[t]}));function le(){const t=b();return o("section",{children:[se.map(n=>e(O,{to:n.path,className:ie(n.path,t.pathname),children:n.name},n.path)),"/",e("a",{href:"https://github.com/capricorncd/demos/tree/main/react-performance",target:"_blank",children:"Github"})]})}function ue(){return o(m,{children:[e("h1",{children:"Home"}),e("p",{children:"React performance optimization demo."}),e("p",{children:e("img",{src:re,style:{maxWidth:"100%"}})})]})}k(document.getElementById("root")).render(e(M,{children:e(ce,{})}));
